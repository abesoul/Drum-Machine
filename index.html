<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Drum Machine</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
    <script>
    // Redirect to login if not logged in
    if (!localStorage.getItem("loggedInUser")) {
      window.location.href = "login.html";
    }
  </script>

  <div id="auth-bar">
    <span>Welcome, <span id="user-name"></span></span>
    <button onclick="logout()">Logout</button>
  </div>
  
  <div class="app">
     <h1>ðŸ”¥ Space Drum Machine ðŸ”Š</h1>
    <div id="display">
    </div>
    
</script>
  
  <div id="controls">
      <label><input type="checkbox" id="loop-toggle-checkbox"> Loop Mode</label>
      <input type="file" id="file-upload">
      <input type="text" id="assign-key" placeholder="Assign to key (A-Z)">
      <button id="save-project-btn">Save Project</button>
      <button id="download-project-btn">Download</button>
    </div>
  
     </script>
<div id="drum-machine">
    <h2 id="display-text">Press a key or click a pad</h2>
    <canvas id="visualizer" width="800" height="100"></canvas>
    <div id="drum-pads">
      <!-- Add your drum pads here -->
    </div>
  
  <!-- Tabs Navigation -->
  <div class="tabs">
    <button class="tab-btn" onclick="showTab('sequencer')">Sequencer</button>
    <button class="tab-btn" onclick="showTab('pads')">Pads</button>
    <button class="tab-btn" onclick="showTab('fx')">FX</button>
    <button class="tab-btn" onclick="showTab('library')">Library</button>
    <button class="tab-btn" onclick="showTab('challenges')">Challenges</button>
    <button class="tab-btn" onclick="showTab('settings')">Settings</button>
  </div>

  <!-- Tab Contents -->
  <div id="sequencer" class="tab-content">
    <h2>Step Sequencer</h2>
    <div class="sequencer-grid">
      <!-- 16-step grid -->
      <div class="step" onclick="toggleStep(0)"></div>
      <div class="step" onclick="toggleStep(1)"></div>
      <div class="step" onclick="toggleStep(2)"></div>
      <!-- Add more steps as needed -->
    </div>
  </div>

  <div id="pads" class="tab-content">
    <h2>Drum Pads</h2>
    <div class="pad-grid">
      <div class="drum-pad" data-key="Q" style="background-color: #f0f0f0;">Q</div>
      <div class="drum-pad" data-key="W" style="background-color: #d0d0d0;">W</div>
      <div class="drum-pad" data-key="E" style="background-color: #b0b0b0;">E</div>
      <div class="drum-pad" data-key="A" style="background-color: #909090;">A</div>
      <!-- More pads as needed -->
    </div>
  </div>

  <div id="fx" class="tab-content">
    <h2>Effects Rack</h2>
    <div class="effects">
      <label for="delay">Delay:</label>
      <input type="range" id="delay" min="0" max="1" step="0.01" value="0.5" />
      <label for="filter">Filter:</label>
      <input type="range" id="filter" min="0" max="1" step="0.01" value="0.5" />
      <label for="bitcrusher">Bitcrusher:</label>
      <input type="range" id="bitcrusher" min="0" max="1" step="0.01" value="0.5" />
    </div>
     <div id="trimmer-controls">
      <label>Trim Start Time (sec): <input type="range" min="0" max="30" step="0.1" id="start-time" /></label>
      <label>Trim End Time (sec): <input type="range" min="0" max="30" step="0.1" id="end-time" /></label>
    </div>

    <div id="reverb-controls">
      <label>Reverb Mix: <input type="range" min="0" max="1" step="0.01" id="reverb-mix" value="0.5" /></label>
      <label>Reverb Decay: <input type="range" min="0.1" max="10" step="0.1" id="reverb-decay" value="2" /></label>
      <label>Reverb Size: <input type="range" min="0.1" max="10" step="0.1" id="reverb-size" value="1" /></label>
    </div>
  </div>

  <div id="library" class="tab-content">
    <h2>Sample Library</h2>
    <label for="upload-sample">Upload Custom Sample:</label>
    <input type="file" id="upload-sample" accept="audio/*" />
    <select id="assign-sample-key">
      <option value="">Assign to Key</option>
      <option value="Q">Q</option>
      <option value="W">W</option>
      <option value="E">E</option>
      <option value="A">A</option>
      <option value="S">S</option>
      <option value="D">D</option>
      <option value="Z">Z</option>
      <option value="X">X</option>
      <option value="C">C</option>
    </select>
  </div>

  <div id="challenges" class="tab-content">
    <h2>Beat Challenges</h2>
    <div class="challenge">
      <p>Challenge 1: Create a basic drum loop using 4 pads.</p>
      <button onclick="startChallenge()">Start Challenge</button>
    </div>
  </div>

  <div id="settings" class="tab-content">
    <h2>Settings</h2>
    <label for="theme-toggle">Dark Mode</label>
    <input type="checkbox" id="theme-toggle" onclick="toggleTheme()" />
    <div>
      <button onclick="saveProject()">Save Project</button>
      <button onclick="loadProject()">Load Project</button>
    </div>
    <canvas id="waveform" width="800" height="100"></canvas>
  </div>

  <script src="script.js"></script>
</body>
</html>
